/* ====== UNIFIED DARK MODE SYSTEM ====== */
/* Target: body.dark */
/* Purpose: Visual overrides ONLY (Colors, Shadows, Gradients). No layout changes. */

body.dark {
  background-color: var(--light-bg);
  color: var(--gray-600);
}

/* =========================================
   1. BASE & TYPOGRAPHY
   ========================================= */

/* 1.1 Main Page Titles (Modern Gradient) */
body.dark h1, 
body.dark h2,
body.dark .page-title,
body.dark .section-header h2 {
  background: var(--header-gradient);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-fill-color: transparent;
  text-shadow: 0 2px 10px rgba(45, 212, 191, 0.1); 
  font-weight: 800;
}

body.dark h3, body.dark h4, body.dark h5, body.dark h6 {
  color: var(--gray-900);
}

body.dark a { color: var(--primary); }
body.dark a:hover { color: var(--primary-light); }

/* Scrollbars */
body.dark ::-webkit-scrollbar-track { background-color: #0f172a; }
body.dark ::-webkit-scrollbar-thumb { background-color: #334155; border-radius: 4px; }
body.dark ::-webkit-scrollbar-thumb:hover { background-color: #475569; }

/* =========================================
   2. MODERN LAYOUT SURFACES (Glassmorphism)
   ========================================= */

body.dark .input-container,
body.dark .archive-controls,
body.dark .date-display,
body.dark .summary-container,
body.dark .buttons-container,
body.dark .stat-card,
body.dark .admin-section,
body.dark .help-card,
body.dark .subscription-card,
body.dark .plan-card,
body.dark .counter-card {
  background: var(--dark-surface);
  backdrop-filter: blur(12px);
  border: 1px solid var(--dark-border);
  box-shadow: 0 10px 30px var(--dark-shadow);
}

/* Header (topbar) */
body.dark header,
body.dark header .header-content {
  background-color: var(--dark-surface);
  border-bottom: 1px solid var(--dark-border);
  box-shadow: 0 4px 20px var(--dark-shadow);
  backdrop-filter: blur(10px);
}

/* Sidebar */
body.dark .sidebar,
body.dark .main-sidebar {
  background: linear-gradient(180deg, #111827 0%, #0f172a 80%, #064e3b 100%);
  border-left: 1px solid rgba(255, 255, 255, 0.05);
  box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
}

/* Sidebar Active Links */
body.dark .sidebar .nav-link.active,
body.dark .sidebar a.active {
  background: linear-gradient(270deg, rgba(45, 212, 191, 0.15) 0%, transparent 100%);
  border-right: 3px solid var(--primary);
  color: #fff;
}

/* Footer */
body.dark .footer {
  background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  color: #64748b;
}

/* =========================================
   3. FORMS, INPUTS & CONTROLS
   ========================================= */
body.dark input, 
body.dark textarea, 
body.dark select,
body.dark .archive-select,
body.dark .bulk-input,
body.dark .search-input-wrapper {
  background-color: var(--gray-100);
  border-color: var(--gray-300);
  color: #f8fafc;
}

body.dark input::placeholder { color: #475569; }

body.dark input:focus, 
body.dark textarea:focus, 
body.dark select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.2);
  background-color: #0f172a;
}

/* =========================================
   4. TABLES SYSTEM
   ========================================= */
body.dark table,
body.dark .modern-table,
body.dark .collections-table {
  background: #1e293b;
  border-color: rgba(255, 255, 255, 0.05);
}

body.dark thead th {
  background: var(--table-header-bg);
  color: #e2e8f0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark tbody td {
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  border-right: 1px solid rgba(255, 255, 255, 0.05);
  color: #cbd5e1;
}

body.dark .shop {
    color: var(--primary-light);
}

/* Total Row Styles */
body.dark .total-row {
  background: var(--table-header-bg);
}

body.dark .total-row,
body.dark .total-row td {
  color: #ffffff;
}

body.dark .total-row-negative {
  background: #7f1d1d; /* Red Dark */
}

/* =========================================
   5. COMPONENT SPECIFICS (Summary, Stats, Badges)
   ========================================= */

body.dark .summary-item,
body.dark .stat-icon,
body.dark .bg-light {
  background: #0f172a;
  border-color: var(--gray-300);
}

body.dark .summary-title,
body.dark .stat-value {
  color: #f1f5f9;
  background: none;
  -webkit-text-fill-color: initial;
  text-shadow: none;
}

body.dark .stat-content h3,
body.dark .field-header {
  color: #94a3b8;
}

body.dark .bold-input,
body.dark .calc-field {
  color: var(--primary-light);
}

body.dark .admin-section-header {
  background: #0f766e;
}

/* Status Badges - Themed for Dark mode */
body.dark .status-active { background: rgba(16, 185, 129, 0.15); color: #34d399; }
body.dark .status-cancelled { background: rgba(245, 158, 11, 0.15); color: #fbbf24; }
body.dark .status-expired { background: rgba(239, 68, 68, 0.15); color: #f87171; }

/* Modals */
body.dark .modal-content,
body.dark .shared-modal {
  background: #1e293b;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
}

body.dark .modal-header,
body.dark .shared-modal-header {
  background: #0f172a;
  border-bottom-color: rgba(255, 255, 255, 0.05);
}

body.dark .close-modal { color: #94a3b8; }
body.dark .close-modal:hover { color: #fff; }

/* Alerts */
body.dark .alert-success, body.dark .status-message.success {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.2);
}

body.dark .alert-danger, body.dark .status-message.error {
  background: rgba(239, 68, 68, 0.15);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

body.dark .alert-warning, body.dark .status-message.warning {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.2);
}

/* Page header */
body.dark .page-header {
  background: linear-gradient(180deg, var(--content-bg) 0%, var(--light-bg) 100%);
  border: 1px solid var(--dark-border);
  color: var(--gray-900);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}
