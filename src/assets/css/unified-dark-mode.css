/* ====== UNIFIED DARK MODE SYSTEM ====== */
/* Single source of truth - Consolidated from dark-mode.css & sidebar-dark-mode.css */
/* NO DUPLICATES. Optimized for performance and maintainability */

:root {
  /* Color Palette */
  --dark-bg: #0f0f0f;
  --dark-surface: #1a1a1a;
  --dark-surface-hover: #252525;
  --dark-surface-light: #2a2a2a;
  --dark-border: #333333;
  --dark-text-primary: #ffffff;
  --dark-text-secondary: #b0b0b0;
  --dark-text-muted: #808080;
  /* Accent & Status */
  --dark-accent: #007965;
  --dark-accent-hover: #005a4b;
  --dark-success: #27ae60;
  --dark-warning: #f39c12;
  --dark-danger: #e74c3c;
  --dark-info: #3498db;
  /* Effects */
  --dark-overlay: rgba(0, 0, 0, 0.6);
  --dark-shadow: rgba(0, 0, 0, 0.3);
  --dark-shadow-hover: rgba(0, 0, 0, 0.4);
}

/* Backwards-compatible variable aliases and mappings
   This ensures legacy variable names used across the codebase
   (from `main.css` and components) pick proper dark-mode values
   without changing component-level CSS. This keeps visual parity. */
body.dark {
  --primary: var(--dark-accent);
  --secondary: var(--dark-warning);
  --light-bg: var(--dark-bg);
  --dark-text: var(--dark-text-primary);
  --highlight-green: var(--dark-success);
  --highlight-td: var(--dark-surface-light);
  --dark-mode-green: var(--dark-success);
  --dark-mode-orange: var(--dark-warning);
  --total-row-bg: var(--dark-accent);
}

/* ====== GLOBAL BASE ====== */
body.dark {
  background-color: var(--dark-bg);
  color: var(--dark-text-primary);
  transition: background-color 0.15s ease, color 0.15s ease;
}

/* ====== LAYOUT & CONTAINERS ====== */
body.dark .main-container,
body.dark .container,
body.dark .content,
body.dark .admin-page,
body.dark .admin-dashboard,
body.dark .harvest-page,
body.dark .dashboard-page,
body.dark .archive-page {
  background-color: var(--dark-bg);
  color: var(--dark-text-primary);
}

body.dark .page-header {
   background: linear-gradient(135deg, var(--dark-accent), var(--dark-accent-hover)) !important;
   border-color: var(--dark-border);
}

body.dark .sidebar {
  background: #004d3d !important;
  border-right: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .sidebar-header {
  background: transparent !important;
  border-bottom: 1px solid var(--dark-border) !important;
}

/* ====== CARDS & SURFACES ====== */
body.dark .card,
body.dark .summary-card,
body.dark .stats-card,
body.dark .info-card,
body.dark .plan-card,
body.dark .subscription-card,
body.dark .payment-card,
body.dark .admin-section,
body.dark .counter-card,
body.dark .input-container,
body.dark .help-card,
body.dark .summary-item {
  background-color: var(--dark-surface) !important;
  border-color: var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
  transition: all 0.15s ease;
}

body.dark .card:hover,
body.dark .summary-card:hover,
body.dark .stats-card:hover {
  background-color: var(--dark-surface-hover);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px var(--dark-shadow-hover);
}

/* ====== TABLES ====== */
body.dark table {
  background-color: var(--dark-surface);
  border-color: var(--dark-border);
  color: var(--dark-text-primary);
}

body.dark th {
  background-color: var(--dark-accent);
  color: var(--dark-text-primary);
  border-color: var(--dark-border);
  font-weight: 600;
}

body.dark td {
  background-color: var(--dark-surface);
  color: var(--dark-text-primary);
  border-color: var(--dark-border);
}

body.dark tr:hover td {
  background-color: var(--dark-surface-hover);
}

body.dark tr:nth-child(even) td {
  background-color: var(--dark-surface);
}

body.dark .collections-table,
body.dark .archive-table,
body.dark .counter-table,
body.dark .categories-table {
  background-color: var(--dark-surface);
  border-color: var(--dark-border) !important;
}

body.dark .collections-table th,
body.dark .archive-table th,
body.dark .counter-table th,
body.dark .categories-table th {
  background-color: var(--dark-accent);
  color: var(--dark-text-primary) !important;
  border-color: var(--dark-border) !important;
}

body.dark .counter-table td,
body.dark .categories-table td {
  background: var(--dark-surface) !important;
  color: var(--dark-text-primary) !important;
  border-color: var(--dark-border) !important;
}

body.dark .total-row {
  background: var(--dark-accent);
  color: var(--dark-text-primary);
  font-weight: 600;
}

body.dark .total-row td {
  background-color: var(--dark-accent);
  border-color: rgba(255,255,255,0.3);
}

body.dark .date-cell {
  color: var(--dark-text-secondary);
}

/* ====== FORM ELEMENTS ====== */
body.dark input,
body.dark textarea,
body.dark select,
body.dark .data-input,
body.dark .input-field {
  background-color: var(--dark-surface) !important;
  border-color: var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  transition: all 0.15s ease;
}

body.dark input:focus,
body.dark textarea:focus,
body.dark select:focus,
body.dark .data-input:focus,
body.dark .input-field:focus {
  border-color: var(--dark-accent) !important;
  box-shadow: 0 0 0 2px rgba(0, 121, 101, 0.2) !important;
  background-color: var(--dark-surface) !important;
}

body.dark input::placeholder,
body.dark textarea::placeholder,
body.dark .data-input::placeholder,
body.dark .input-field::placeholder {
  color: var(--dark-text-muted) !important;
}

body.dark .readonly-input {
  background-color: var(--dark-surface-light) !important;
  color: var(--dark-text-secondary) !important;
  cursor: not-allowed;
}

/* ====== BUTTONS ====== */
body.dark .btn,
body.dark button {
  background-color: var(--dark-accent);
  color: var(--dark-text-primary);
  border-color: var(--dark-accent);
  transition: all 0.15s ease;
}

body.dark .btn:hover,
body.dark button:hover {
  background-color: var(--dark-accent-hover);
}

body.dark .btn-primary {
  background-color: var(--dark-accent);
  border-color: var(--dark-accent);
}

body.dark .btn-success {
  background-color: var(--dark-success);
  border-color: var(--dark-success);
}

body.dark .btn-warning {
  background-color: var(--dark-warning);
  border-color: var(--dark-warning);
  color: var(--dark-bg);
}

body.dark .btn-danger {
  background-color: var(--dark-danger);
  border-color: var(--dark-danger);
}

/* ====== FIX: Align total-row with table columns in dark mode ======
   Ensure the total-row uses sticky positioning and no rounded card styling
   so it lines up exactly with table columns (Harvest view). */
body.dark .modern-table--harvest .total-row,
body.dark .total-row {
  position: sticky !important;
  bottom: 0 !important;
  z-index: 10 !important;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.45) !important;
  border-radius: 0 !important;
  background: var(--dark-accent) !important;
  color: var(--dark-text-primary) !important;
  font-weight: 700 !important;
}

body.dark .modern-table--harvest .total-row td,
body.dark .total-row td {
  border-top: 2px solid rgba(255,255,255,0.06) !important;
  padding: 18px 12px !important;
  vertical-align: middle !important;
  background-color: var(--dark-accent) !important;
}

body.dark .modern-table--harvest .total-row td:first-child,
body.dark .total-row td:first-child {
  text-align: center !important;
  font-size: 20px !important;
  font-weight: 800 !important;
}

body.dark .btn-info {
  background-color: var(--dark-info);
  border-color: var(--dark-info);
}

body.dark .logout-btn {
  background: var(--dark-danger) !important;
  color: var(--dark-text-primary) !important;
  border: none;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4) !important;
}

body.dark .logout-btn:hover {
  background: #c82333 !important;
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(220, 53, 69, 0.6) !important;
}

body.dark .logout-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(220, 53, 69, 0.5) !important;
}

/* ====== BADGES & STATUS ====== */
body.dark .badge,
body.dark .status-badge,
body.dark .tag {
  background-color: var(--dark-surface);
  color: var(--dark-text-primary);
  border-color: var(--dark-border);
}

body.dark .badge-success,
body.dark .status-active {
  background-color: var(--dark-success);
  color: var(--dark-text-primary);
}

body.dark .badge-warning,
body.dark .status-pending {
  background-color: var(--dark-warning);
  color: var(--dark-bg);
}

body.dark .badge-danger,
body.dark .status-expired,
body.dark .status-cancelled {
  background-color: var(--dark-danger);
  color: var(--dark-text-primary);
}

body.dark .status-zero {
  background-color: var(--dark-success);
  color: var(--dark-text-primary);
}

body.dark .status-positive {
  background-color: var(--dark-info);
  color: var(--dark-text-primary);
}

body.dark .status-negative {
  background-color: var(--dark-danger);
  color: var(--dark-text-primary);
}

/* ====== TYPOGRAPHY ====== */
body.dark h1,
body.dark h2,
body.dark h3,
body.dark h4,
body.dark h5,
body.dark h6,
body.dark .counter-title,
body.dark .summary-title,
body.dark .categories-title,
body.dark .page-title,
body.dark .section-title {
  color: var(--dark-text-primary) !important;
  transition: color 0.15s ease;
}

body.dark .counter-title,
body.dark .summary-title,
body.dark .categories-title,
body.dark .plan-header {
  background: linear-gradient(135deg, var(--dark-accent), var(--dark-accent-hover)) !important;
}

body.dark .summary-value,
body.dark .stats-value {
  color: var(--dark-accent) !important;
}

body.dark .stats-label {
  color: var(--dark-text-secondary) !important;
}

/* ====== NAVIGATION ====== */
body.dark .nav,
body.dark .navbar {
  background-color: var(--dark-surface);
  border-color: var(--dark-border);
}

body.dark .nav-link,
body.dark .navbar-link {
  color: var(--dark-text-secondary);
  transition: all 0.15s ease;
}

body.dark .nav-link:hover,
body.dark .navbar-link:hover,
body.dark .nav-link.active {
  color: var(--dark-accent);
  background-color: var(--dark-surface-hover);
}

body.dark .nav-links a {
  color: var(--dark-text-primary) !important;
  transition: all 0.15s ease;
}

body.dark .nav-links a:hover,
body.dark .nav-links a.active {
  background: rgba(0,200,150,0.2) !important;
  border-left-color: var(--dark-accent) !important;
}

body.dark .nav-links a::before {
  background: rgba(255,255,255,0.1) !important;
}

/* ====== MODALS & OVERLAYS ====== */
body.dark .modal,
body.dark .modal-content {
  background-color: var(--dark-surface);
  color: var(--dark-text-primary);
  border-color: var(--dark-border);
}

body.dark .modal-header {
  background-color: var(--dark-surface-hover);
  border-color: var(--dark-border);
}

body.dark .modal-overlay,
body.dark .overlay {
  background-color: var(--dark-overlay);
}

/* ====== ALERTS & NOTIFICATIONS ====== */
body.dark .alert,
body.dark .notification,
body.dark .toast {
  background-color: var(--dark-surface);
  color: var(--dark-text-primary);
  border-color: var(--dark-border);
  box-shadow: 0 4px 12px var(--dark-shadow);
}

body.dark .alert-success {
  background-color: rgba(39, 174, 96, 0.2);
  border-color: var(--dark-success);
  color: var(--dark-success);
}

body.dark .alert-warning {
  background-color: rgba(243, 156, 18, 0.2);
  border-color: var(--dark-warning);
  color: var(--dark-warning);
}

body.dark .alert-danger {
  background-color: rgba(231, 76, 60, 0.2);
  border-color: var(--dark-danger);
  color: var(--dark-danger);
}

body.dark .alert-info {
  background-color: rgba(52, 152, 219, 0.2);
  border-color: var(--dark-info);
  color: var(--dark-info);
}

/* ====== PROGRESS BARS ====== */
body.dark .progress {
  background-color: var(--dark-surface);
}

body.dark .progress-bar {
  background-color: var(--dark-accent);
}

/* ====== DROPDOWNS & MENUS ====== */
body.dark .dropdown,
body.dark .dropdown-menu {
  background-color: var(--dark-surface);
  border-color: var(--dark-border);
  color: var(--dark-text-primary);
}

body.dark .dropdown-item {
  color: var(--dark-text-secondary);
  transition: all 0.15s ease;
}

body.dark .dropdown-item:hover {
  background-color: var(--dark-surface-hover);
  color: var(--dark-text-primary);
}

/* ====== PAGINATION ====== */
body.dark .pagination {
  background-color: var(--dark-surface);
}

body.dark .page-link {
  background-color: var(--dark-surface);
  color: var(--dark-text-secondary);
  border-color: var(--dark-border);
  transition: all 0.15s ease;
}

body.dark .page-link:hover {
  background-color: var(--dark-surface-hover);
  color: var(--dark-accent);
}

body.dark .page-item.active .page-link {
  background-color: var(--dark-accent);
  border-color: var(--dark-accent);
}

/* ====== SEARCH & FILTERS ====== */
body.dark .search-input-wrapper {
  background-color: var(--dark-surface);
  border-color: var(--dark-border);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

body.dark .search-input-wrapper:hover {
  border-color: rgba(0, 200, 150, 0.4);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

body.dark .search-input-wrapper:focus-within {
  border-color: var(--dark-accent);
  box-shadow: 0 0 0 3px rgba(0, 200, 150, 0.15), 0 6px 20px rgba(0, 0, 0, 0.25);
}

body.dark .search-input {
  color: var(--dark-text-primary);
}

body.dark .control-icon {
  color: var(--dark-accent);
}

body.dark .btn--icon.btn--gear i {
  color: white;
}

body.dark .btn--icon.btn--gear:hover {
  background: rgba(0, 200, 150, 0.15);
}

/* ====== SCROLLBARS ====== */
body.dark ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

body.dark ::-webkit-scrollbar-track {
  background-color: var(--dark-surface);
}

body.dark ::-webkit-scrollbar-thumb {
  background-color: var(--dark-border);
  border-radius: 4px;
  transition: background-color 0.15s ease;
}

body.dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--dark-text-muted);
}

/* ====== SIDEBAR USER COMPONENTS ====== */
body.dark .user-box {
  background: rgba(255,255,255,0.05) !important;
  border-color: var(--dark-border) !important;
  transition: all 0.15s ease;
}

body.dark .user-box:hover {
  background: rgba(255,255,255,0.08) !important;
}

body.dark .user-data-container {
  background: rgba(255, 255, 255, 0.1) !important;
  border-color: var(--dark-border) !important;
  transition: all 0.15s ease;
}

body.dark .user-data-container:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  border-color: var(--dark-accent) !important;
}

body.dark .user-name {
  color: var(--dark-text-primary) !important;
}

body.dark .user-email {
  color: var(--dark-text-secondary) !important;
}

body.dark .user-id {
  background: rgba(39, 174, 96, 0.2) !important;
  color: #fff !important;
  border: 1px solid rgba(39, 174, 96, 0.4) !important;
  padding: 4px 8px !important;
  border-radius: 4px !important;
  font-weight: 500;
}

/* ====== SUBSCRIPTION COMPONENTS ====== */

/* ط¥طµظ„ط§ط­ ط§ظ„ظˆط¶ط¹ ط§ظ„ظ„ظٹظ„ظٹ ظپظٹ طµظپط­ط© ط§ط´طھط±ط§ظƒظٹ */
body.dark .subscription-card {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 10px 30px var(--dark-shadow) !important;
}

body.dark .subscription-details {
  background: var(--dark-surface-light) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .detail-row {
  border-bottom: 1px solid var(--dark-border) !important;
}

body.dark .detail-label {
  color: var(--dark-text-secondary) !important;
}

body.dark .detail-value {
  background: var(--dark-surface) !important;
  color: var(--dark-text-primary) !important;
  border: 1px solid var(--dark-border) !important;
}

body.dark .subscription-history {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 10px 30px var(--dark-shadow) !important;
}

body.dark .history-header {
  background: var(--dark-surface-light) !important;
  border-bottom: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .table-container {
  background: var(--dark-surface) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .modern-table {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .modern-table th {
  background: var(--dark-surface-light) !important;
  border-color: var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .modern-table td {
  border-color: var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .plan-name {
  color: var(--dark-text-primary) !important;
}

body.dark .plan-duration {
  background: rgba(0, 121, 101, 0.2) !important;
  color: var(--dark-accent) !important;
}



body.dark .modal-content {
  background: var(--dark-surface) !important;
  color: var(--dark-text-primary) !important;
  border: 1px solid var(--dark-border) !important;
}

body.dark .modal-header {
  background: var(--dark-surface-light) !important;
  border-bottom: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .modal-footer {
  border-top: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .renew-plan {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .renew-plan:hover {
  border-color: var(--dark-accent) !important;
  box-shadow: 0 5px 15px var(--dark-shadow) !important;
}

/* طھط­ط³ظٹظ†ط§طھ ط®ط·ط· ط§ظ„ط£ط³ط¹ط§ط± ظپظٹ ط§ظ„ظˆط¶ط¹ ط§ظ„ظ„ظٹظ„ظٹ */
body.dark .plan-price {
  color: var(--dark-text-primary) !important;
}

body.dark .price {
  color: var(--dark-accent) !important;
  text-shadow: 0 0 5px rgba(0, 121, 101, 0.3);
}

body.dark .currency,
body.dark .period {
  color: var(--dark-text-secondary) !important;
}

/* طھط­ط³ظٹظ†ط§طھ ظˆط¶ظˆط­ ط§ظ„ظ†طµ ظپظٹ طµظپط­ط© ط§ظ„ط§ط´طھط±ط§ظƒط§طھ */
body.dark .plan-features li {
  color: var(--dark-text-primary) !important;
  font-weight: 500 !important;
}

body.dark .plan-features i {
  color: var(--dark-accent) !important;
  opacity: 0.9;
}

body.dark .featured-badge {
  background: var(--dark-accent) !important;
  color: var(--dark-text-primary) !important;
}

/* طھط­ط³ظٹظ†ط§طھ ط®ظ„ظپظٹط© ظ…ظ„ط®طµ ط§ظ„ط¨ظٹط§ظ† ظپظٹ طµظپط­ط© ط§ظ„طھط­طµظٹظ„ط§طھ */

/* ط¥طµظ„ط§ط­ ط§ظ„طھظƒط±ط§ط± ظپظٹ ط­ط§ظˆظٹط§طھ ظ…ظ„ط®طµ ط¥ط¬ظ…ط§ظ„ظٹ ظˆظ…ظ„ط®طµ ط§ظ„ط¨ظٹط§ظ† */
body.dark .summary-grid {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 12px !important;
  padding: 20px !important;
  color: var(--dark-text-primary) !important;
}


body.dark .field-header {
  color: var(--dark-text-primary) !important;
}

body.dark .field-icon {
  color: var(--dark-accent) !important;
}

body.dark .calc-field {
  background: var(--dark-surface-light) !important;
  color: var(--dark-text-primary) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 6px !important;
  padding: 8px 12px !important;
  display: inline-block !important;
  min-width: 100px !important;
  text-align: center !important;
}


body.dark .summary-divider {
  background: linear-gradient(90deg, transparent, var(--dark-border), transparent) !important;
}
body.dark .summary-container {
  background: var(--dark-surface) !important;
  color: var(--dark-text-primary) !important;
  border: 1px solid var(--dark-border) !important;
}

body.dark .master-limit-field,
body.dark .current-balance-field,
body.dark .reset-amount-field,
body.dark .total-collected-field,
body.dark .reset-status-field {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

/* طھط­ط³ظٹظ†ط§طھ ط®ظ„ظپظٹط© ظ…ظ„ط®طµ ط¥ط¬ظ…ط§ظ„ظٹ ظپظٹ طµظپط­ط© ط§ظ„ظƒط§ظˆظ†طھط± */

/* طھط¹ط¯ظٹظ„ ظ…ط±ط¨ط¹ط§طھ ظ…ظ„ط®طµ ط¥ط¬ظ…ط§ظ„ظٹ ظ„طھظƒظˆظ† ط¨ط¬ط§ظ†ط¨ ط¨ط¹ط¶ظ‡ط§ ط§ظ„ط¨ط¹ط¶ ظ…ط¹ ط£ط®ط° ط­ظٹط² ط§ظ„طµظپ ط¨ط§ظ„ظƒط§ظ…ظ„ */
body.dark .summary-section {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 0 !important;
  padding: 25px !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 10px 30px var(--dark-shadow) !important;
}

body.dark .summary-title {
  color: var(--dark-text-primary) !important;
  background: var(--dark-accent) !important;
  text-align: center !important;
  font-size: 1.1rem !important;
  margin: 0 0 20px 0 !important;
  padding: 12px !important;
  border-radius: 8px !important;
}

/* طھط¹ط¯ظٹظ„ طµظپظˆظپ ط§ظ„ظ…ظ„ط®طµ ظ„طھظƒظˆظ† ط¨ط¹ط±ط¶ ط§ظ„طµظپ ط¨ط§ظ„ظƒط§ظ…ظ„ */
body.dark .summary-row {
  display: flex !important;
  width: 100% !important;
  gap: 15px !important;
  margin-bottom: 20px !important;
  background: transparent !important;
  color: var(--dark-text-primary) !important;
}

body.dark .summary-row-3 {
  justify-content: space-between !important;
}

body.dark .summary-row-3 .summary-item {
  flex: 1 !important;
  min-width: 0 !important;
}

/* طھط­ط³ظٹظ† ط´ظƒظ„ ط§ظ„ظ…ط±ط¨ط¹ط§طھ */
body.dark .summary-item {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 8px !important;
  padding: 15px !important;
  text-align: center !important;
  box-shadow: 0 2px 8px var(--dark-shadow) !important;
  transition: transform 0.2s ease, box-shadow 0.2s ease !important;
  color: var(--dark-text-primary) !important;
}

body.dark .summary-item:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

body.dark .summary-label {
  color: var(--dark-text-secondary) !important;
  font-size: 0.9rem !important;
  margin-bottom: 8px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;
}

body.dark .summary-value {
  color: var(--dark-text-primary) !important;
  font-size: 1.2rem !important;
  font-weight: 700 !important;
}

/* طھط­ط³ظٹظ† ط§ظ„طھظ†ط§ط³ظ‚ ظپظٹ ظ…ط±ط¨ط¹ط§طھ ظ…ظ„ط®طµ ط¥ط¬ظ…ط§ظ„ظٹ */

body.dark .summary-item-total {
  background: linear-gradient(135deg, var(--dark-surface), rgba(0,121,101,0.2)) !important;
  border: 2px solid var(--dark-accent) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

body.dark .summary-item-collected {
  background: linear-gradient(135deg, var(--dark-surface), rgba(0,121,101,0.2)) !important;
  border: 1px solid var(--dark-border) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

body.dark .summary-item-clearance {
  background: linear-gradient(135deg, var(--dark-surface), rgba(0,121,101,0.2)) !important;
  border: 1px solid var(--dark-border) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

body.dark .summary-item-status {
  background: linear-gradient(to top, rgba(243,156,18,0.15), var(--dark-surface)) !important;
  border: 1px solid rgba(243,156,18,0.3) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

/* طھط­ط³ظٹظ† ط§ظ„طھظƒط±ط§ط± ظپظٹ ط¨ظ†ظٹط© ط§ظ„ط¹ط¯ط§ط¯ ط§ظ„ط£ظˆظ„ ظˆط§ظ„ط«ط§ظ†ظٹ */
body.dark .second-counter-container {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 12px !important;
  padding: 10px !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 10px 30px var(--dark-shadow) !important;
}

body.dark .total-cell {
  background: var(--dark-surface-light) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .highlight-text {
  color: var(--dark-accent) !important;
}

body.dark .category-label {
  color: var(--dark-text-primary) !important;
}

body.dark .num {
  color: var(--dark-text-primary) !important;
}

body.dark .currency-label {
  color: var(--dark-accent) !important;
  font-weight: 600 !important;
}

/* طھط­ط³ظٹظ† ط§ظ„طھظƒط±ط§ط± ظپظٹ طµظپط­ط© ط¹ط¯ط§ط¯ ط§ظ„ط£ظ…ظˆط§ظ„ */
body.dark .counter-card {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 10px 30px var(--dark-shadow) !important;
}

body.dark .input-field,
body.dark .settings-input {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .input-field:focus,
body.dark .settings-input:focus {
  border-color: var(--dark-accent) !important;
  box-shadow: 0 0 0 2px rgba(0, 121, 101, 0.2) !important;
}

body.dark .categories-section {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 12px !important;
  padding: 20px !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 10px 30px var(--dark-shadow) !important;
}

body.dark .categories-summary {
  background: transparent !important;
}

body.dark .categories-title {
  color: var(--dark-text-primary) !important;
  background: var(--dark-accent) !important;
}

body.dark .categories-totals {
  background: var(--dark-surface-light) !important;
  border-top: 2px solid var(--dark-accent) !important;
}

/* ط¥طµظ„ط§ط­ ط§ظ„طھظƒط±ط§ط± ظپظٹ ط­ط§ظˆظٹط§طھ ظˆط¬ط¯ط§ظˆظ„ طµظپط­ط© ط¹ط¯ط§ط¯ ط§ظ„ط£ظ…ظˆط§ظ„ */
body.dark .cp-table {
  background: var(--dark-surface) !important;
}

body.dark .table-wrap {
  background: var(--dark-surface) !important;
}

/* ط¥طµظ„ط§ط­ ط§ظ„ط®ظ„ظپظٹط© ط§ظ„ط¨ظٹط¶ط§ط، ط£ط³ظپظ„ ط§ظ„ط¹ط¯ط§ط¯ ط§ظ„ط£ظˆظ„ ظˆط§ظ„ط«ط§ظ†ظٹ */
body.dark .counter-totals {
  background: var(--dark-surface-light) !important;
  border-top: 2px solid var(--dark-accent) !important;
}

body.dark .counter-total {
  background: transparent !important;
  color: var(--dark-text-primary) !important;
}

body.dark .counter-total-label {
  color: var(--dark-text-secondary) !important;
}

body.dark .counter-total-value {
  color: var(--dark-text-primary) !important;
}

body.dark .secondary-val {
  color: var(--dark-text-secondary) !important;
}

/* طھط­ط³ظٹظ†ط§طھ ظ…ط±ط¨ط¹ ط§ظ„ط­ط§ظ„ط© ظپظٹ طµظپط­ط© ط§ظ„ظƒط§ظˆظ†طھط± */

/* طھط­ط³ظٹظ†ط§طھ ظ„ظˆط­ط© ط§ظ„طھط­ظƒظ… */

/* ط¥طµظ„ط§ط­ ظ…ط´ظƒظ„ط© ط§ظ„ط¨ط­ط« ظپظٹ طµظپط­ط© ظ„ظˆط­ط© ط§ظ„طھط­ظƒظ… */
body.dark .table-header-info {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
  border-radius: 8px !important;
  padding: 15px !important;
  margin-bottom: 15px !important;
}

body.dark .table-actions {
  background: transparent !important;
}

body.dark .users-search-row {
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
  margin-bottom: 10px !important;
}

body.dark .users-bulk-actions {
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
  margin-top: 10px !important;
}

body.dark .users-header-stats {
  background: var(--dark-accent) !important;
  color: var(--dark-text-primary) !important;
  padding: 5px 10px !important;
  border-radius: 15px !important;
  font-size: 0.9rem !important;
}
body.dark .admin-dashboard {
  background: var(--dark-bg) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .admin-section {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

body.dark .section-header {
  background: var(--dark-surface-light) !important;
  border-bottom: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .stat-card {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
  box-shadow: 0 4px 12px var(--dark-shadow) !important;
}

body.dark .chart-container {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
}

body.dark .table-container {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
}

body.dark .chart-toggle {
  background: var(--dark-surface-light) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .chart-toggle:hover {
  background: var(--dark-surface-hover) !important;
}

body.dark .chart-toggle.active {
  background: var(--dark-accent) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .subscription-days-input {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .users-search-input {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}

body.dark .filter-select {
  background: var(--dark-surface) !important;
  border: 1px solid var(--dark-border) !important;
  color: var(--dark-text-primary) !important;
}
body.dark .subscription-container {
  background: rgba(0, 121, 101, 0.2) !important;
  border-color: var(--dark-accent) !important;
  transition: all 0.15s ease;
}

body.dark .subscription-container:hover {
  background: rgba(0, 121, 101, 0.3) !important;
  border-color: var(--dark-accent-hover) !important;
}

body.dark .subscription-title {
  color: var(--dark-text-primary) !important;
}

body.dark .subscription-days-simple {
  color: var(--dark-text-primary) !important;
}

body.dark .subscription-days-simple i {
  color: var(--dark-text-primary) !important;
}

/* ====== LOGOUT COMPONENTS ====== */
body.dark .logout-container {
  background: rgba(220, 53, 69, 0.1) !important;
  border-color: var(--dark-border) !important;
  transition: all 0.15s ease;
}

body.dark .logout-container:hover {
  background: rgba(220, 53, 69, 0.2) !important;
  border-color: var(--dark-danger) !important;
}

/* ====== DARK MODE TOGGLE ====== */
body.dark .dark-mode-toggle,
body.dark .dark-mode-toggle-small {
  color: var(--dark-text-primary) !important;
  background: transparent !important;
  border: none !important;
  cursor: pointer;
  font-size: 18px;
}

body.dark .dark-mode-toggle:hover,
body.dark .dark-mode-toggle-small:hover {
  background: transparent !important;
  border: none !important;
}

body.dark .dark-mode-toggle:active,
body.dark .dark-mode-toggle-small:active {
  background: transparent !important;
}

/* Light mode toggle styling */
.dark-mode-toggle-small {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: auto;
  height: auto;
  border: none;
  background: transparent;
  color: #333;
  cursor: pointer;
  transition: none;
  font-size: 18px;
  box-shadow: none;
  padding: 0;
}

.dark-mode-toggle-small:hover {
  border: none;
  box-shadow: none;
  transform: none;
  background: transparent;
}

.dark-mode-toggle-small:active {
  transform: none;
  background: transparent;
}

/* ====== FAQ & ACCORDION ====== */
body.dark .faq-section {
  background-color: var(--dark-surface);
}

body.dark .faq-section h2 {
  color: var(--dark-text-primary);
}

body.dark .faq-item,
body.dark .faq-question {
  background-color: var(--dark-surface);
  transition: all 0.15s ease;
}

body.dark .faq-question:hover {
  background-color: var(--dark-surface-hover);
}

body.dark .faq-question h3 {
  color: var(--dark-text-primary);
}

body.dark .faq-answer {
  background-color: var(--dark-surface);
  color: var(--dark-text-secondary);
}

body.dark .faq-icon {
  color: var(--dark-accent);
}

/* ====== PAYMENT ELEMENTS ====== */
body.dark .payment-option {
  background-color: var(--dark-surface-light);
  transition: all 0.15s ease;
}

body.dark .payment-option:hover,
body.dark .payment-option.active {
  border-color: var(--dark-accent);
  background-color: var(--dark-surface);
}

body.dark .payment-steps {
  background-color: var(--dark-surface-light);
}

body.dark .payment-steps li,
body.dark .payment-details p {
  color: var(--dark-text-secondary);
}

/* ====== COUNTERS & STATS ====== */
body.dark .counter-totals {
  background-color: var(--dark-surface-light);
}

body.dark .counter-total-value {
  color: var(--dark-text-primary);
}

/* ====== TABLE STATUS COLORS ====== */
body.dark td.net.positive {
  color: #4dabf7 !important;
  font-weight: bold !important;
  text-shadow: 0 1px 2px rgba(77, 171, 247, 0.3);
}

body.dark td.net.negative {
  color: #fa5252 !important;
  font-weight: bold !important;
  text-shadow: 0 1px 2px rgba(250, 82, 82, 0.3);
}

body.dark td.net.zero {
  color: #51cf66 !important;
  font-weight: bold !important;
  text-shadow: 0 1px 2px rgba(81, 207, 102, 0.3);
}

/* ====== BUTTONS CONTAINER ====== */
body.dark .buttons-container {
  background: linear-gradient(135deg, rgba(30, 30, 30, 0.95), rgba(42, 42, 42, 0.9));
  border: 2px solid rgba(0, 200, 150, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

/* ====== HARVEST TABLE INPUTS ====== */
body.dark .modern-table--harvest input.extra,
body.dark .modern-table--harvest input.collector {
  background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
  border: 1px solid rgba(0,200,150,0.3);
  color: #e0e0e0;
}

body.dark .modern-table--harvest input:focus {
  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
  border-color: rgba(255,165,0,0.6);
  box-shadow: 0 0 0 2px rgba(255,165,0,0.2);
  color: #ffffff;
}

/* ====== TOTAL ROW ====== */
body.dark .total-row {
  background: linear-gradient(135deg, rgba(0, 200, 150, 0.3) 0%, rgba(0, 150, 130, 0.4) 100%) !important;
  color: #ffffff !important;
  box-shadow: 0 4px 16px rgba(0, 200, 150, 0.3);
  border-radius: 8px;
}

body.dark .total-row td:first-child {
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

body.dark .total-row .numeric, body.dark .total-row .amount, body.dark .total-row .collector, body.dark .total-row .net,
body.dark .total-row .numeric, body.dark .total-row .amount, body.dark .total-row .collector, body.dark .total-row .net {
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  font-weight: 700 !important;
}

body.dark .total-row td {
  border-bottom: 1px solid rgba(0,200,150,0.6) !important;
  border-right: 1px solid rgba(0,200,150,0.6) !important;
  padding: 18px 12px !important;
  vertical-align: middle !important;
}

/* ====== MODALS & CONTENT ====== */
body.dark .modal-note {
  color: #ffb74d;
}

body.dark .modal-content {
  background: linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%);
  color: #e0e0e0;
  border-radius: 15px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.5);
}

body.dark textarea {
  background: linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%);
  border: 2px solid rgba(0,200,150,0.4);
  color: #e0e0e0;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,200,150,0.1);
}

body.dark textarea:focus {
  border-color: rgba(255,165,0,0.6);
  box-shadow: 0 0 0 3px rgba(255,165,0,0.2), 0 4px 16px rgba(255,165,0,0.1);
}

/* ====== TOGGLE DARK MODE BUTTON ====== */
body.dark #toggleDark {
  color: #ffeb3b;
  background: transparent;
  border-radius: 4px;
  box-shadow: none;
  transition: all 0.3s ease;
}

body.dark #toggleDark:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: none;
  filter: none;
  text-shadow: none;
  box-shadow: none;
  outline: none;
}

/* ====== BUTTON VARIANTS (DARK MODE) ====== */
body.dark .btn-primary {
  background: linear-gradient(135deg, rgba(0,200,150,0.9) 0%, rgba(0,160,133,0.95) 100%);
  box-shadow: 0 4px 15px rgba(0, 200, 150, 0.4);
  border: 1px solid rgba(0,200,150,0.5);
}

body.dark .btn-primary:hover {
  background: linear-gradient(135deg, rgba(0,160,133,0.95) 0%, rgba(0,200,150,0.9) 100%);
  box-shadow: 0 6px 20px rgba(0, 200, 150, 0.5);
  transform: translateY(-2px);
}

body.dark .btn-success {
  background: linear-gradient(135deg, rgba(46,204,113,0.9) 0%, rgba(39,174,96,0.95) 100%);
  box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
  border: 1px solid rgba(46,204,113,0.5);
}

body.dark .btn-success:hover {
  background: linear-gradient(135deg, rgba(39,174,96,0.95) 0%, rgba(46,204,113,0.9) 100%);
  box-shadow: 0 6px 20px rgba(46, 204, 113, 0.5);
  transform: translateY(-2px);
}

body.dark .btn-secondary {
  background: linear-gradient(135deg, rgba(52,152,219,0.9) 0%, rgba(41,128,185,0.95) 100%);
  box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
  border: 1px solid rgba(52,152,219,0.5);
}

body.dark .btn-secondary:hover {
  background: linear-gradient(135deg, rgba(41,128,185,0.95) 0%, rgba(52,152,219,0.9) 100%);
  box-shadow: 0 6px 20px rgba(52, 152, 219, 0.5);
  transform: translateY(-2px);
}

body.dark .btn-info {
  background: linear-gradient(135deg, rgba(155,89,182,0.9) 0%, rgba(142,68,173,0.95) 100%);
  box-shadow: 0 4px 15px rgba(155, 89, 182, 0.4);
  border: 1px solid rgba(155,89,182,0.5);
}

body.dark .btn-info:hover {
  background: linear-gradient(135deg, rgba(142,68,173,0.95) 0%, rgba(155,89,182,0.9) 100%);
  box-shadow: 0 6px 20px rgba(155, 89, 182, 0.5);
  transform: translateY(-2px);
}

body.dark .btn-danger {
  background: linear-gradient(135deg, rgba(231,76,60,0.9) 0%, rgba(192,57,43,0.95) 100%);
  box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
  border: 1px solid rgba(231,76,60,0.5);
}

body.dark .btn-danger:hover {
  background: linear-gradient(135deg, rgba(192,57,43,0.95) 0%, rgba(231,76,60,0.9) 100%);
  box-shadow: 0 6px 20px rgba(231, 76, 60, 0.5);
  transform: translateY(-2px);
}

body.dark .btn-export {
  background: linear-gradient(135deg, rgba(243,156,18,0.9) 0%, rgba(230,126,34,0.95) 100%);
  box-shadow: 0 4px 15px rgba(243, 156, 18, 0.4);
  border: 1px solid rgba(243,156,18,0.5);
}

body.dark .btn-export:hover {
  background: linear-gradient(135deg, rgba(230,126,34,0.95) 0%, rgba(243,156,18,0.9) 100%);
  box-shadow: 0 6px 20px rgba(243, 156, 18, 0.5);
  transform: translateY(-2px);
}

body.dark .btn-archive {
  background: linear-gradient(135deg, rgba(22,160,133,0.9) 0%, rgba(26,188,156,0.95) 100%);
  box-shadow: 0 3px 10px rgba(22, 160, 133, 0.4);
  border: 1px solid rgba(22,160,133,0.5);
}

body.dark .btn-archive:hover {
  background: linear-gradient(135deg, rgba(26,188,156,0.95) 0%, rgba(22,160,133,0.9) 100%);
  box-shadow: 0 5px 15px rgba(22, 160, 133, 0.5);
  transform: translateY(-2px);
}

/* ====== SUMMARY SECTION (DARK MODE) ====== */
body.dark #summary {
  background: linear-gradient(135deg, #1e1e1e 0%, #252525 100%);
  border: 2px solid rgba(0,200,150,0.3);
  border-radius: 15px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
}

body.dark .summary-grid label {
  color: #e0e0e0;
  background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
  border: 2px solid rgba(0,200,150,0.2);
}

body.dark .summary-grid input {
  background: linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%);
  border: 2px solid rgba(0,200,150,0.4);
  color: #e0e0e0;
  box-shadow: 0 2px 8px rgba(0,200,150,0.1);
}

body.dark .calc-field {
  background: linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%);
  border: 2px solid rgba(0,200,150,0.4);
  color: #ffffff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  box-shadow: 0 4px 16px rgba(0,200,150,0.2);
}

body.dark .reset-amount-field .calc-field,
body.dark .total-collected-field .calc-field,
body.dark .reset-status-field .calc-field {
  background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
  border: 2px solid rgba(200, 200, 200, 0.3);
  color: #f0f0f0;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(200, 200, 200, 0.1);
  position: relative;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
}

body.dark .reset-amount-field .calc-field:hover,
body.dark .total-collected-field .calc-field:hover,
body.dark .reset-status-field .calc-field:hover {
  border-color: rgba(200, 200, 200, 0.5);
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.5), 0 3px 12px rgba(200, 200, 200, 0.15);
  transform: translateY(-2px);
  background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.04) 100%);
}

/* ====== ARCHIVE CONTROLS (DARK MODE) ====== */
body.dark .archive-controls {
  background: linear-gradient(135deg, rgba(30, 30, 30, 0.95), rgba(37, 37, 37, 0.9));
  border-color: rgba(0,200,150,0.2);
  box-shadow: 0 4px 20px rgba(0,0,0,0.4), 0 2px 8px rgba(0,200,150,0.1);
}

body.dark .archive-controls label {
  color: #00c896;
}

body.dark .control-icon {
  color: #00c896;
  background: linear-gradient(135deg, rgba(0,200,150,0.15), rgba(0,200,150,0.08));
  box-shadow: 0 2px 8px rgba(0,200,150,0.2);
}

body.dark .control-group:hover .control-icon {
  box-shadow: 0 4px 12px rgba(0,200,150,0.3);
}

body.dark .archive-select, body.dark .archive-search, body.dark #archiveSelect, body.dark #archiveSearch {
  background: linear-gradient(135deg, #2a2a2a 0%, #1e1e1e 100%);
  border: 2px solid rgba(0,200,150,0.4);
  color: #e0e0e0;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,200,150,0.1);
}

body.dark .archive-select:focus, body.dark .archive-search:focus, body.dark #archiveSelect:focus, body.dark #archiveSearch:focus {
  border-color: #00c896;
  box-shadow: 0 0 0 3px rgba(0, 200, 150, 0.25), 0 4px 15px rgba(0, 200, 150, 0.2);
  background: linear-gradient(135deg, #2a2a2a, #2a2a2a);
}

body.dark .archive-select option, body.dark .archive-search option, body.dark #archiveSelect option, body.dark #archiveSearch option {
  background: #2a2a2a;
  color: #e0e0e0;
  padding: 8px;
}

/* ====== CODE COLUMN (DARK MODE) ====== */
body.dark td.code {
  font-size: 0.9em;
  color: #cccccc;
  font-style: italic;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

/* ====== TABLE ROW STYLES (DARK MODE) ====== */
body.dark tbody tr:hover {
  background: linear-gradient(135deg, rgba(0, 200, 150, 0.25), rgba(0, 200, 150, 0.1));
  box-shadow: 0 4px 15px rgba(0, 200, 150, 0.3);
  border-radius: 8px;
}

body.dark tbody tr:nth-child(even) {
  background: rgba(255, 255, 255, 0.03);
}

body.dark tbody tr:nth-child(odd) {
  background: rgba(255, 255, 255, 0.06);
}

/* ====== MOBILE TABLE BORDER (DARK MODE) ====== */
@media (max-width: 768px) {
  body.dark th, body.dark td {
    border-bottom-color: rgba(0,200,150,0.3);
    border-right-color: rgba(0,200,150,0.3);
  }

  body.dark tbody tr:hover {
    background: linear-gradient(135deg, rgba(0, 200, 150, 0.15) 0%, rgba(0, 200, 150, 0.08) 100%);
    box-shadow: 0 2px 8px rgba(0, 200, 150, 0.2);
  }
}

/* ====== SMALL SCREEN TOGGLE BUTTON (DARK MODE) ====== */
@media (max-width: 768px) {
  body.dark #toggleDark:hover,
  body.dark #toggleDark:focus,
  body.dark #toggleDark:active {
    transform: none !important;
    filter: none !important;
    text-shadow: none !important;
    box-shadow: none !important;
    outline: none !important;
  }
}

@media (max-width: 480px) {
  body.dark #toggleDark:hover,
  body.dark #toggleDark:focus,
  body.dark #toggleDark:active {
    transform: none !important;
    filter: none !important;
    text-shadow: none !important;
    box-shadow: none !important;
    outline: none !important;
  }
}

/* ====== BOTTOM NAVIGATION (DARK MODE) ====== */
body.dark .bottom-nav {
  background-color: rgba(30, 30, 30, 0.9);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark .bottom-nav-btn {
  background: linear-gradient(135deg, #444, #333);
  color: #ccc;
}

body.dark .bottom-nav-btn:hover {
  background: linear-gradient(135deg, #555, #444);
}

/* ====== NON-EDITABLE CELLS (DARK MODE) ====== */
body.dark .non-editable {
  background-color: transparent !important;
  color: inherit !important;
}

body.dark tr.editable-row td {
  background-color: transparent;
}

/* ====== ALERTS (DARK MODE) ====== */
body.dark .alert {
  background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
  border: 2px solid rgba(255,255,255,0.1);
  color: #e0e0e0;
  box-shadow: 0 8px 32px rgba(0,0,0,0.5);
}

body.dark .alert::before {
  background: linear-gradient(90deg, #00a085, #007965);
}

body.dark .alert-success {
  background: linear-gradient(135deg, rgba(39, 174, 96, 0.2) 0%, rgba(39, 174, 96, 0.1) 100%);
  border-left-color: #28a745;
  color: #90ee90;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
  box-shadow: 0 8px 32px rgba(39, 174, 96, 0.3);
}

body.dark .alert-success::before {
  background: linear-gradient(90deg, #28a745, #20c997);
}

body.dark .alert-danger {
  background: linear-gradient(135deg, rgba(231, 76, 60, 0.2) 0%, rgba(231, 76, 60, 0.1) 100%);
  border-left-color: #dc3545;
  color: #ff6b6b;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
  box-shadow: 0 8px 32px rgba(231, 76, 60, 0.3);
}

body.dark .alert-danger::before {
  background: linear-gradient(90deg, #dc3545, #fd7e14);
}

body.dark .alert-info {
  background: linear-gradient(135deg, rgba(23, 162, 184, 0.2) 0%, rgba(23, 162, 184, 0.1) 100%);
  border-left-color: #17a2b8;
  color: #5bc0de;
  text-shadow: 0 1px 2px rgba(0,0,0,0.8);
  box-shadow: 0 8px 32px rgba(23, 162, 184, 0.3);
}

body.dark .alert-info::before {
  background: linear-gradient(90deg, #17a2b8, #6f42c1);
}

body.dark .alert i {
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* ====== CONFIRM MODAL (DARK MODE) ====== */
body.dark .confirm-modal {
  background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
  color: #e0e0e0;
  border-color: rgba(255, 255, 255, 0.1);
}

body.dark .confirm-modal::before {
  background: linear-gradient(90deg, #00a085, #007965);
}

/* ====== RESULT CELLS (DARK MODE) ====== */
body.dark .result-cell.positive {
  color: #4dabf7;
  text-shadow: 0 1px 2px rgba(77, 171, 247, 0.3);
}

body.dark .result-cell.negative {
  color: #fa5252;
  text-shadow: 0 1px 2px rgba(250, 82, 82, 0.3);
}

body.dark .result-cell.zero {
  color: #e9ecef;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

/* ====== PWA INSTALL PROMPT (DARK MODE) ====== */
body.dark .install-prompt {
  background: rgba(30, 30, 30, 0.9);
  border-color: rgba(0, 200, 150, 0.3);
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

body.dark .install-prompt-content::before {
  background: linear-gradient(90deg, rgba(0, 200, 150, 0.8) 0%, rgba(0, 150, 130, 0.9) 100%);
}

body.dark .install-text h3 {
  color: #ffffff;
}

body.dark .install-text p {
  color: #e0e0e0;
}

body.dark .dismiss-btn {
  background: transparent;
  color: #999;
  border-color: #555;
}

body.dark .dismiss-btn:hover {
  background: #333;
  color: #cccccc;
}

/* ====== DATA INPUT PAGE (DARK MODE) ====== */
body.dark main textarea {
  background: linear-gradient(135deg, #2a2a2a, #1e1e1e);
  border-color: rgba(0,200,150,0.4);
  color: #e0e0e0;
  box-shadow: 0 2px 8px rgba(0,200,150,0.1);
}

body.dark main textarea:focus {
  border-color: #00c896;
  box-shadow: 0 0 0 3px rgba(0, 200, 150, 0.25), 0 4px 15px rgba(0, 200, 150, 0.2);
  background: linear-gradient(135deg, #2a2a2a, #2a2a2a);
}

body.dark main .buttons button {
  background: linear-gradient(135deg, rgba(0,200,150,0.8), rgba(0,150,130,0.9));
  box-shadow: 0 4px 12px rgba(0,200,150,0.3);
}

body.dark main .buttons button:hover {
  background: linear-gradient(135deg, rgba(255,165,0,0.8), rgba(255,140,0,0.9));
  box-shadow: 0 6px 16px rgba(255,165,0,0.4);
}

/* ====== HARVEST COMPONENTS ====== */
/* إزالة تلوين الخلفية في الوضع الليلي */
body.dark .negative-net {
  background: transparent !important;
}

/* ====== SMOOTH TRANSITIONS ====== */
body.dark * {
  transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease !important;
}

/* ====== PRINT STYLES ====== */
@media print {
  body.dark {
    background-color: white !important;
    color: black !important;
  }
  
  body.dark * {
    background-color: white !important;
    color: black !important;
    border-color: black !important;
  }
}

/* ====== RESPONSIVE ====== */
@media (max-width: 768px) {
  body.dark input,
  body.dark textarea,
  body.dark select {
    font-size: 16px; /* Prevent zoom on iOS */
  }
}

/* ====== MIGRATED COMPONENT DARK RULES (Dashboard, Topbar, Alerts, Notifications) ======
   These rules were moved from component-scoped styles into this unified file.
*/

/* Dashboard status bars */
body.dark .status-bar.paste {
  background: linear-gradient(135deg, rgba(23, 162, 184, 0.25), rgba(0, 123, 255, 0.25));
  color: #5ddef4;
  border-color: rgba(23, 162, 184, 0.5);
}

body.dark .status-bar.saving {
  background: linear-gradient(135deg, rgba(255, 193, 7, 0.25), rgba(255, 152, 0, 0.25));
  color: #ffd54f;
  border-color: rgba(255, 152, 0, 0.5);
}

body.dark .status-bar.success {
  background: linear-gradient(135deg, rgba(40, 167, 69, 0.25), rgba(32, 201, 151, 0.25));
  color: #5ffe7a;
  border-color: rgba(40, 167, 69, 0.5);
}

body.dark .status-bar.error {
  background: linear-gradient(135deg, rgba(220, 53, 69, 0.25), rgba(255, 107, 107, 0.25));
  color: #ff6b6b;
  border-color: rgba(220, 53, 69, 0.5);
}

/* Topbar */
body.dark .topbar {
  background: linear-gradient(135deg, var(--dark-surface), var(--dark-surface-hover));
  border-bottom: 1px solid var(--dark-border);
  color: var(--dark-text-primary);
}

/* Main layout */
body.dark main {
  background: var(--dark-bg);
}

/* Alerts (BaseAlert) */
body.dark .alert-info {
  background: rgba(23, 162, 184, 0.1);
  color: #5bc0de;
  border-color: rgba(23, 162, 184, 0.3);
}

body.dark .alert-success {
  background: rgba(40, 167, 69, 0.1);
  color: #5cb85c;
  border-color: rgba(40, 167, 69, 0.3);
}

body.dark .alert-warning {
  background: rgba(255, 193, 7, 0.1);
  color: #ffc107;
  border-color: rgba(255, 193, 7, 0.3);
}

body.dark .alert-danger {
  background: rgba(220, 53, 69, 0.1);
  color: #dc3545;
  border-color: rgba(220, 53, 69, 0.3);
}

/* Notifications */
body.dark .notification-success {
  background: linear-gradient(135deg, rgba(40, 167, 69, 0.3), rgba(32, 201, 151, 0.3));
  color: #5ffe7a;
  border-left-color: #28a745;
  box-shadow: 0 8px 25px rgba(40, 167, 69, 0.35);
}

body.dark .notification-error {
  background: linear-gradient(135deg, rgba(220, 53, 69, 0.3), rgba(255, 107, 107, 0.3));
  color: #ff7b7b;
  border-left-color: #dc3545;
  box-shadow: 0 8px 25px rgba(220, 53, 69, 0.35);
}

body.dark .notification-warning {
  background: linear-gradient(135deg, rgba(255, 193, 7, 0.25), rgba(255, 183, 3, 0.25));
  color: #ffd700;
  border-left-color: #ffc107;
  box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);
}

body.dark .notification-info {
  background: linear-gradient(135deg, rgba(23, 162, 184, 0.3), rgba(0, 123, 255, 0.3));
  color: #6dd5ff;
  border-left-color: #17a2b8;
  box-shadow: 0 8px 25px rgba(23, 162, 184, 0.35);
}
/* ====== OVERRIDE: Prevent conditional coloring on total net cell (dark mode) ====== */
/* Ensures totals keep the total-row color instead of positive/negative hues */
body.dark .total-row td.net,
body.dark .total-row td.net.positive,
body.dark .total-row td.net.negative,
body.dark .modern-table--harvest .total-row td.net,
body.dark .modern-table--archive .total-row td.net {
 color: inherit !important;
 text-shadow: none !important;
}

/* ====== HARVEST VIEW DARK MODE STYLES ====== */
body.dark .date-display, body.dark .search-container {
 border-color: rgba(0, 200, 150, 0.2);
}

/* تم دمج تنسيق search-input في الوضع الليلي مع التنسيق الموحد في الأعلى */