<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุงูุฃุฑุดูู</title>
  <meta name="theme-color" content="#ffffff"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="sidebar.css" />
</head>
<body class="loaded">
  <!-- ุญุงููุฉ ุงูุชูุจููุงุช -->
  <div id="alert-container" class="alert-container"></div>

  <!-- ๐ ุงูุดุฑูุท ุงูุนููู -->
  <div class="topbar">
    <div class="actions">
      <button class="toggle-btn" id="toggle-btn"><i class="fa-solid fa-bars"></i></button>
    </div>
    <div class="logo">
        <img src="logo-momkn.png" alt="ุดุนุงุฑ ูููู" class="logo-img" />
        <p class="app-name">CollectPro</p>
    </div>
  </div>

  <!-- ุงูุฎูููุฉ ุงูุดูุงูุฉ ููุดุฑูุท ุงูุฌุงูุจู -->
  <div class="overlay" id="overlay"></div>

  <!-- ๐จ ุงูุดุฑูุท ุงูุฌุงูุจู -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <div class="user-box">
          <div class="user-meta">
            <span class="user-name" id="user-name">ุงุณู ุงููุณุชุฎุฏู</span>
            <span class="user-email" id="user-email">user@example.com</span>
            <span class="user-id" id="user-id"></span>
          </div>
        </div>
      </div>
      <div class="sidebar-content">
        <ul class="nav-links">
          <li><a href="dashboard.html"><i class="fas fa-tachometer-alt"></i><span>ุฅุฏุฎุงู ุงูุจูุงูุงุช</span></a></li>
          <li><a href="harvest.html"><i class="fas fa-donate"></i><span>ุงูุชุญุตููุงุช</span></a></li>
          <li><a href="archive.html"><i class="fas fa-archive"></i><span>ุงูุฃุฑุดูู</span></a></li>
          <li><a href="counter.html"><i class="fas fa-calculator"></i><span>ุนุฏุงุฏ ุงูุฃููุงู</span></a></li>
          <li><a href="subscriptions.html"><i class="fas fa-credit-card"></i><span>ุงูุงุดุชุฑุงูุงุช</span></a></li>
          <li><a href="my-subscription.html"><i class="fas fa-user-shield"></i><span>ุงุดุชุฑุงูู</span></a></li>
          <li><a href="admin.html"><i class="fas fa-user-cog"></i><span>ููุญุฉ ุงูุชุญูู</span></a></li>
        </ul>
      </div>
      <div class="sidebar-footer">
          <div class="subscription-info" id="subscription-info">
            <div class="subscription-days-simple">
              <i class="fas fa-clock"></i>
              <span id="days-left">-</span>
              <span> ููู ูุชุจูู</span>
            </div>
          </div>
          <button id="logout-btn" class="logout-btn">
              <i class="fas fa-sign-out-alt"></i>
              <span>ุชุณุฌูู ุงูุฎุฑูุฌ</span>
          </button>
      </div>
  </div>

  <!-- ุฎูููุฉ ุดูุงูุฉ -->
  <div class="overlay" id="overlay"></div>

  <header>
    <button id="toggleDark" title="ุชุจุฏูู ุงููุถุน ุงููููู">
      ๐
    </button>
    <h1>ุงูุฃุฑุดูู ๐</h1>
  </header>
  <main>
    <!-- ... ูุญุชูู ุงูุตูุญุฉ ูุจูู ููุง ูู ... -->
    <div class="archive-controls">
      <div class="control-group-main">
        <div class="control-group">
          <label>
            <i class="fas fa-calendar-alt control-icon"></i>
            ุงุฎุชุฑ ุงูุชุงุฑูุฎ:
          </label>
          <select id="archiveSelect">
            <option value="">-- ุงุฎุชุฑ ุชุงุฑูุฎ --</option>
          </select>
        </div>
        <div class="control-group">
          <label>
            <i class="fas fa-search control-icon"></i>
            ุจุญุซ:
          </label>
          <input type="text" id="archiveSearch" placeholder="ุงูุชุจ ุงุณู ุงููุญู ุฃู ุงูููุฏ" />
        </div>
      </div>
      <div class="control-group-button">
        <button id="tableSettingsBtn" class="btn table-settings-btn">
          <i class="fas fa-cog"></i>
          <span>ุฅุนุฏุงุฏ ุงูุฌุฏูู</span>
        </button>
      </div>
    </div>
    <div class="table-wrap">
      <table id="archiveTable" class="collections-table">
      <thead>
        <tr>
          <th>๐ ุงูุชุงุฑูุฎ</th>
          <th>๐ช ุงููุญู</th>
          <th>๐ข ุงูููุฏ</th>
          <th>๐ธ ูุจูุบ ุงูุชุญููู</th>
          <th class="extra">๐ ุงุฎุฑู</th>
          <th>๐ฐ ุงููุญุตูู</th>
          <th>โ๏ธ ุงูุตุงูู</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    </div>
    <div class="buttons">
      <button id="backToHarvestBtn" class="btn">
        <i class="fas fa-arrow-left"></i>
        <span>ุฑุฌูุน ููุชุญุตููุงุช</span>
      </button>
      <button id="deleteArchiveBtn" class="btn">
        <i class="fas fa-trash-alt"></i>
        <span>ุญุฐู ุงูุชุงุฑูุฎ ุงูุญุงูู</span>
      </button>
    </div>
  </main>
  
  <!-- ุฅุฒุงูุฉ ุฃุฒุฑุงุฑ ุงูุชููู ุงูุณููู -->
  
  <div class="footer">
    <p>ยฉ <span id="year"></span> ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
    <p>ุชู ุงูุชุตููู ูุงูุชุทููุฑ ุจูุงุณุทุฉ | <strong style="color:#ff6600;">ุฃููู ุญุงูุธ</strong> ๐ป v1.0</p>
  </div>

  <!-- Modal ูุฅุนุฏุงุฏ ุงูุฌุฏูู -->
  <div id="tableSettingsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ุฅุนุฏุงุฏ ุฃุนูุฏุฉ ุงูุฌุฏูู</h3>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="column-settings">
          <div class="column-item">
            <label class="checkbox-label">
              <input type="checkbox" id="col-date" checked>
              <span class="checkmark"></span>
              ๐ ุงูุชุงุฑูุฎ
            </label>
          </div>
          <div class="column-item">
            <label class="checkbox-label">
              <input type="checkbox" id="col-shop" checked>
              <span class="checkmark"></span>
              ๐ช ุงููุญู
            </label>
          </div>
          <div class="column-item">
            <label class="checkbox-label">
              <input type="checkbox" id="col-code" checked>
              <span class="checkmark"></span>
              ๐ข ุงูููุฏ
            </label>
          </div>
          <div class="column-item">
            <label class="checkbox-label">
              <input type="checkbox" id="col-amount" checked>
              <span class="checkmark"></span>
              ๐ธ ูุจูุบ ุงูุชุญููู
            </label>
          </div>
          <div class="column-item">
            <label class="checkbox-label">
              <input type="checkbox" id="col-extra" checked>
              <span class="checkmark"></span>
              ๐ ุฃุฎุฑู
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="resetColumns">ุฅุนุงุฏุฉ ุชุนููู</button>
        <button class="btn" id="applySettings">ุชุทุจูู</button>
      </div>
    </div>
  </div>

  <!-- Scripts at the end for better performance -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase-client.js"></script>
  <script src="sidebar.js"></script>
  <script src="script.js"></script>
</body>
</html>
