# CollectPro - ูุธุงู ุฅุฏุงุฑุฉ ุงูุชุญุตููุงุช ุงูุงุญุชุฑุงูู

<p align="center">
  <img src="public/logo-momkn.png" alt="CollectPro Logo" width="150"/>
</p>

<p align="center">
  <strong>ุชุทุจูู ููุจ ุชูุฏูู (PWA) ูุตูู ููููู ุงูุญู ุงูุดุงูู ูุงูุขูู ูุฅุฏุงุฑุฉ ุนูููุงุช ุงูุชุญุตูู ุงููุงูู ุงูููููุฉ ูุชุฎุทูุท ูุณุงุฑุงุช ุงูุนููุงุก.</strong>
</p>

---

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

CollectPro ููุฏู ูุฌููุนุฉ ูุชูุงููุฉ ูู ุงูุฃุฏูุงุช ูุชุณููู ูุฃุชูุชุฉ ุนูููุงุช ุงูุชุญุตูู:

- **๐ฐ ุฅุฏุงุฑุฉ ุงูุชุญุตููุงุช (`HarvestView`):** ูุงุฌูุฉ ุณุฑูุนุฉ ููุนุงูุฉ ูุชุณุฌูู ุงูุชุญุตููุงุช ุงูููููุฉุ ูุน ุญุณุงุจุงุช ุชููุงุฆูุฉ ููุฅุฌูุงููุงุช ูุตุงูู ุงูุฑุจุญ ูุญุงูุฉ ุงูุชุตููุฑ.
- **๐บ๏ธ ุชุฎุทูุท ุฎุท ุงูุณูุฑ (`ItineraryView`):** ุฅุฏุงุฑุฉ ูุชุฎุทูุท ูุณุงุฑุงุช ุงูุนููุงุกุ ูุน ุฅููุงููุฉ ุญูุธ ููุงูุจ ูุณุงุฑุงุช ูุฎุตุตุฉ ูุณูููุฉ ุงููุตูู ุฅูููุง ูุงุญููุง.
- **๐ค ุงููุดุงุฑูุฉ ูุงูุชุนุงูู (`ShareHarvestView`):** ุนุฑุถ ููุชุงุจุนุฉ ุฌุฏุงูู ุงูุชุญุตูู ุงูุฎุงุตุฉ ุจุงูุฒููุงุก ูู ุงูููุช ุงููุนูู ูุชุนุฒูุฒ ุงูุชุนุงูู ุจูู ุงููุฑูู.
- **๐๏ธ ุฃุฑุดูุฉ ูุชูุฏูุฉ (`ArchiveView`):** ูุธุงู ุฃุฑุดูุฉ ููู ูุญูุธ ุจูุงูุงุช ูู ููู ุนูู ุญุฏุฉุ ูุน ุฅููุงููุฉ ุงูุจุญุซ ุงูููุฑู ูุงูููุชุฑุฉ ุญุณุจ ุงูุชุงุฑูุฎ ุฃู ุงุณู ุงููุญู ุฃู ุงูููุฏ.
- **๐ ููุญุฉ ุชุญูู ุฅุฏุงุฑูุฉ (`AdminView`):** ููุญุฉ ุชุญูู ุฎุงุตุฉ ุจุงููุฏุฑุงุก ููุชุงุจุนุฉ ุฅุญุตุงุฆูุงุช ุงููุธุงู ูุงููุณุชุฎุฏููู ูุงูุงุดุชุฑุงูุงุช.
- **๐ณ ูุธุงู ุงุดุชุฑุงูุงุช ูุชูุงูู (`SubscriptionView`, `PaymentView`):** ุฅุฏุงุฑุฉ ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏููู ูุฎุทุท ุงูุฏูุน ุงููุฎุชููุฉ.
- **๐ข ุนุฏุงุฏ ุฃููุงู (`CounterView`):** ุฃุฏุงุฉ ูุณุงุนุฏุฉ ูุญุณุงุจ ุงููุฆุงุช ุงูููุฏูุฉ ุงููุฎุชููุฉ ุจุณุฑุนุฉ ูุฏูุฉ.
- **๐ ูุตุงุฏูุฉ ุขููุฉ (`LoginView`):** ุชุณุฌูู ุฏุฎูู ุขูู ูููุณุชุฎุฏููู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุฌูุฌู ุจุงุณุชุฎุฏุงู Supabase.
- **๐ฑ ุชุทุจูู ููุจ ุชูุฏูู (PWA):** ูููู ุชุซุจูุช ุงูุชุทุจูู ุนูู ุฃู ุฌูุงุฒ (ููุจููุชุฑ ุฃู ูุงุชู) ูููุตูู ุงูุณุฑูุนุ ูุน ุฏุนู ููุนูู ูู ุญุงูุฉ ุงููุทุงุน ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ุจูุถู ุงูุชุฎุฒูู ุงููุคูุช ููุจูุงูุงุช.
- **๐จ ุชุฎุตูุต ูุงูู:**
  - **ุงููุถุน ุงููููู:** ูุงุฌูุฉ ูุฑูุญุฉ ููุนูู ุชุนูู ูู ูุฎุชูู ุธุฑูู ุงูุฅุถุงุกุฉ.
  - **ุชุฎุตูุต ุงูุฃุนูุฏุฉ:** ุฅููุงููุฉ ุฅุธูุงุฑ ุฃู ุฅุฎูุงุก ุฃุนูุฏุฉ ุงูุฌุฏุงูู ูุชูุงุณุจ ุงุญุชูุงุฌุงุชู.
- **๐ค ุชุตุฏูุฑ ุงูุจูุงูุงุช:** ุฅููุงููุฉ ุชุตุฏูุฑ ุงูุฌุฏุงูู ูุตูุฑ ููุดุงุฑูุชูุง ุจุณูููุฉ.

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

ูุนุชูุฏ ุงููุดุฑูุน ุนูู ูุฌููุนุฉ ูู ุงูุชูููุงุช ุงูุญุฏูุซุฉ ูุถูุงู ุงูุฃุฏุงุก ุงูุนุงูู ูุงูุฃูุงู:

- **ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (Frontend):**
  - **Vue.js (v3):** ุฅุทุงุฑ ุนูู JavaScript ูุจูุงุก ูุงุฌูุงุช ุงููุณุชุฎุฏู.
  - **Vite:** ุฃุฏูุงุช ุจูุงุก ุณุฑูุนุฉ ููุงุฌูุฉ ุงููุณุชุฎุฏู.
  - **Pinia:** ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ (State Management) ุจุดูู ูุฑูุฒู.
  - **Vue Router:** ูุฅุฏุงุฑุฉ ุงูุชููู ุจูู ุงูุตูุญุงุช.
- **ุงูุฎูููุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช (Backend & Database):**
  - **Supabase:** ููุตุฉ ูุชูุงููุฉ ุชููุฑ:
    - **PostgreSQL:** ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ ูููุฉ.
    - **Authentication:** ูุธุงู ูุตุงุฏูุฉ ุขูู.
    - **Storage:** ูุชุฎุฒูู ุงููููุงุช.
    - **RPC Functions:** ูุชูููุฐ ุฏูุงู SQL ูุนูุฏุฉ ุจุดูู ุขูู ุนุจุฑ ุงูู API.
- **PWA ูุงูุชุฎุฒูู ุงููุญูู:**
  - **vite-plugin-pwa:** ูุชูููู ูุฏุฑุงุช PWA ูุชูููุฏ Service Worker.
  - **LocalForage:** ููุชุจุฉ ูุชุณููู ุงูุชุฎุฒูู ุงููุญูู (Offline Storage) ูู ุงููุชุตูุญ.
- **ููุชุจุงุช ูุณุงุนุฏุฉ:**
  - **SweetAlert2:** ูุนุฑุถ ุชูุจููุงุช ูุฑุณุงุฆู ุชูุงุนููุฉ.
  - **html2canvas:** ูุชุตุฏูุฑ ุนูุงุตุฑ HTML ูุตูุฑ.
  - **Leaflet & vue-leaflet:** ูุนุฑุถ ุงูุฎุฑุงุฆุท ูุชุญุฏูุฏ ุงูููุงูุน.
  - **xlsx:** ููุนุงูุฌุฉ ูุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ูู ูููุงุช Excel.
- **ุงูุงุฎุชุจุงุฑุงุช ูุงูุฌูุฏุฉ:**
  - **Vitest & Vue Test Utils:** ูุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ุงููุญุฏููุฉ (Unit Testing).
  - **ESLint & Prettier:** ูุถูุงู ุชูุงุณู ูุฌูุฏุฉ ุงูููุฏ.

---

## ๐ ูููู ุงููุดุฑูุน

ุชู ุชูุธูู ุงููุดุฑูุน ุจุดูู ูุนูุงุฑู ูุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ:

```
src/
โโโ assets/         # ูููุงุช ุงูู CSS ูุงูุตูุฑ ูุงูุฎุทูุท
โโโ components/     # ููููุงุช Vue.js ููุณูุฉ ุญุณุจ ุงููุธููุฉ (layout, ui, views)
โโโ composables/    # ุฏูุงู Vue Composition API ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
โโโ layouts/        # ุงููุฎุทุทุงุช ุงูุฑุฆูุณูุฉ ููุชุทุจูู (ูุซู MainLayout, AuthLayout)
โโโ router/         # ุฅุนุฏุงุฏุงุช Vue Router ูุงููุณุงุฑุงุช
โโโ services/       # ุงูุฎุฏูุงุช ุงูุชู ุชุญุชูู ุนูู ููุทู ุงูุฃุนูุงู ูุงูุชูุงุตู ูุน API
โโโ stores/         # ูุญุฏุงุช Pinia ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ
โโโ utils/          # ุฏูุงู ูุณุงุนุฏุฉ ูุฃุฏูุงุช ุนุงูุฉ (ูุซู Logger, Formatters)
```

---

## ๐๏ธ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูุงุนุฏุฉ ุจูุงูุงุช ุงููุดุฑูุน ุนูู Supabase (PostgreSQL) ูุตููุฉ ุจุดูู ูุถูู ุงูุฃูุงู ููุตู ุงูุจูุงูุงุช ุจูู ุงููุณุชุฎุฏููู.

- **ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ (`schema.sql`):**
  - `users`: ุจูุงูุงุช ุงููุณุชุฎุฏููู ูุฃุฏูุงุฑูู (user, admin).
  - `subscriptions`: ุชูุงุตูู ุงุดุชุฑุงูุงุช ุงููุณุชุฎุฏููู ูุญุงูุชูุง.
  - `daily_archives`: ูุชุฎุฒูู ุจูุงูุงุช ุงูุชุญุตูู ุงูููููุฉ ูู JSON.
  - `statistics`: ูุชุฌููุน ุฅุญุตุงุฆูุงุช ุงููุธุงู.
- **ุฌุฏุงูู ุฎุท ุงูุณูุฑ (`itinerary_schema.sql`):**
  - `client_routes`: ูุชุฎุฒูู ุจูุงูุงุช ุงูุนููุงุก ูููุงูุนูู.
  - `route_profiles`: ูุญูุธ ููุงูุจ ุฎุทูุท ุงูุณูุฑ ุงููุฎุตุตุฉ ููู ูุณุชุฎุฏู.
- **ุงูุฃูุงู:**
  - ูุชู ุงุณุชุฎุฏุงู **Row Level Security (RLS)** ุจุดูู ููุซู ูุถูุงู ุฃู ูู ูุณุชุฎุฏู ููููู ุงููุตูู ุฅูู ุจูุงูุงุชู ููุทุ ุจูููุง ููุชูู ุงููุฏูุฑ ุตูุงุญูุงุช ูุงููุฉ.
- **ุงูุฏูุงู ูุงูุฅุฌุฑุงุกุงุช (`rpc_functions.sql`):**
  - ูุชู ุชูููุฐ ุงูุนูููุงุช ุงููุนูุฏุฉ ูุงูุญุณุงุณุฉ ุนุจุฑ ุฏูุงู **RPC** ูุชูููู ุนุฏุฏ ุทูุจุงุช ุงูุดุจูุฉ ูุถูุงู ุชูููุฐ ุงูุนูููุงุช ุจุดูู ุขูู ููุชูุงูู (Transactional).

---

## ๐ ุฎุทูุงุช ุงูุจุฏุก ูุงูุชุดุบูู

1.  **ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน:**
    ```bash
    git clone <https://github.com/emontal30/CollectPro.git>
    cd CollectPro
    ```

2.  **ุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช:**
    ```bash
    npm install
    ```

3.  **ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:**
    - ูู ุจุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุนูู [Supabase](https://supabase.com/).
    - ุงูุณุฎ ููู `.env.example` ูุฃุนุฏ ุชุณููุชู ุฅูู `.env`.
    - ุฃุถู `URL` ู `Anon Key` ุงูุฎุงุตุฉ ุจูุดุฑูุนู ูู Supabase:
      ```env
      VITE_SUPABASE_URL="YOUR_SUPABASE_URL"
      VITE_SUPABASE_ANON_KEY="YOUR_SUPABASE_ANON_KEY"
      ```
    - ูู ุจุชูููุฐ ุงูุงุณุชุนูุงูุงุช ุงูููุฌูุฏุฉ ูู ูููุงุช `.sql` (`schema.sql`, `itinerary_schema.sql`, `rpc_functions.sql`) ูู ูุญุฑุฑ SQL ุงูุฎุงุต ุจูุดุฑูุนู ุนูู Supabase ูุฅูุดุงุก ุงูุฌุฏุงูู ูุงูุฏูุงู ุงููุงุฒูุฉ.

4.  **ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ:**
    ```bash
    npm run dev
    ```

---

## ๐ ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

- `npm run dev`: ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ ุงููุญูู ูุน Hot Reload.
- `npm run build`: ุจูุงุก ูุณุฎุฉ ุงูุฅูุชุงุฌ ูู ุงูุชุทุจูู ูู ูุฌูุฏ `dist`.
- `npm run preview`: ูุนุงููุฉ ูุณุฎุฉ ุงูุฅูุชุงุฌ ูุญูููุง.
- `npm run test:unit`: ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุงููุญุฏููุฉ.
- `npm run lint`: ูุญุต ูุชุตุญูุญ ูุดุงูู ุงูุชูุณูู ูู ุงูููุฏ.

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช ูุชุญุณูู CollectPro. ูุง ุชุชุฑุฏุฏ ูู ูุชุญ `issue` ุฃู ุชูุฏูู `pull request`.

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุจููุฌุจ ุชุฑุฎูุต MIT.