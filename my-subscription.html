<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0" />
  <title>ุงุดุชุฑุงูู - CollectPro</title>
  <meta name="theme-color" content="#ffffff"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="sidebar.css" />
  <link rel="stylesheet" href="my-subscription.css" />
</head>
<body class="loaded">
  <!-- ุญุงููุฉ ุงูุชูุจููุงุช -->
  <div id="alert-container" class="alert-container"></div>

  <!-- ๐ ุงูุดุฑูุท ุงูุนููู -->
  <div class="topbar">
    <div class="actions">
      <button class="toggle-btn" id="toggle-btn"><i class="fa-solid fa-bars"></i></button>
    </div>
    <div class="logo">
      <img src="logo-momkn.png" alt="ุดุนุงุฑ ูููู" class="logo-img" />
      <p class="app-name">CollectPro</p>
    </div>
  </div>

  <!-- ุงูุฎูููุฉ ุงูุดูุงูุฉ ููุดุฑูุท ุงูุฌุงูุจู -->
  <div class="overlay" id="overlay"></div>

  <!-- ๐จ ุงูุดุฑูุท ุงูุฌุงูุจู -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="user-box">
        <div class="user-meta">
          <span class="user-name" id="user-name">ุงุณู ุงููุณุชุฎุฏู</span>
          <span class="user-email" id="user-email">user@example.com</span>
          <span class="user-id" id="user-id"></span>
        </div>
      </div>
    </div>
    <div class="sidebar-content">
      <ul class="nav-links">
        <li><a href="dashboard.html"><i class="fas fa-tachometer-alt"></i><span>ุฅุฏุฎุงู ุงูุจูุงูุงุช</span></a></li>
        <li><a href="harvest.html"><i class="fas fa-donate"></i><span>ุงูุชุญุตููุงุช</span></a></li>
        <li><a href="archive.html"><i class="fas fa-archive"></i><span>ุงูุฃุฑุดูู</span></a></li>
        <li><a href="counter.html"><i class="fas fa-calculator"></i><span>ุนุฏุงุฏ ุงูุฃููุงู</span></a></li>
        <li><a href="subscriptions.html"><i class="fas fa-credit-card"></i><span>ุงูุงุดุชุฑุงูุงุช</span></a></li>
        <li><a href="my-subscription.html"><i class="fas fa-user-shield"></i><span>ุงุดุชุฑุงูู</span></a></li>
        <li><a href="admin.html"><i class="fas fa-user-cog"></i><span>ููุญุฉ ุงูุชุญูู</span></a></li>
      </ul>
    </div>
    <div class="sidebar-footer">
      <div class="subscription-info" id="subscription-info">
        <div class="subscription-days-simple">
          <i class="fas fa-clock"></i>
          <span id="days-left">-</span>
          <span> ููู ูุชุจูู</span>
        </div>
      </div>
      <button id="logout-btn" class="logout-btn">
        <i class="fas fa-sign-out-alt"></i>
        <span>ุชุณุฌูู ุงูุฎุฑูุฌ</span>
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <header>
      <button id="toggleDark" title="ุชุจุฏูู ุงููุถุน ุงููููู">
        ๐
      </button>
      <h1>ุงุดุชุฑุงูู ๐ค</h1>
    </header>

    <main>
      <div class="subscription-container">
        <!-- ุญุงูุฉ ุงูุชุญููู -->
        <div id="loading-container" class="subscription-card">
          <div class="subscription-details">
            <div class="loading-spinner">
              <i class="fas fa-spinner fa-spin"></i>
              <p>ุฌุงุฑู ุชุญููู ุจูุงูุงุช ุงุดุชุฑุงูู...</p>
            </div>
          </div>
        </div>

        <!-- ุจุทุงูุฉ ุงูุงุดุชุฑุงู -->
        <div class="subscription-card">
          <div class="subscription-header">
            <h2><i class="fas fa-shield-alt"></i> ุญุงูุฉ ุงุดุชุฑุงูู</h2>
            <div id="subscription-status"></div>
          </div>
          <div id="subscription-details" class="subscription-details">
            <div class="detail-row">
              <span class="detail-label"><i class="fas fa-cube"></i> ููุน ุงูุฎุทุฉ:</span>
              <span class="detail-value" id="plan-type">-</span>
            </div>
            <div class="detail-row">
              <span class="detail-label"><i class="fas fa-calendar-alt"></i> ุชุงุฑูุฎ ุงูุจุฏุก:</span>
              <span class="detail-value" id="start-date">-</span>
            </div>
            <div class="detail-row">
              <span class="detail-label"><i class="fas fa-calendar-check"></i> ุชุงุฑูุฎ ุงูุงูุชูุงุก:</span>
              <span class="detail-value" id="end-date">-</span>
            </div>
            <div class="detail-row">
               <span class="detail-label"><i class="fas fa-info-circle"></i> ุงูุญุงูุฉ:</span>
               <span class="detail-value" id="subscription-state">-</span>
            </div>
            <div class="detail-row">
               <span class="detail-label"><i class="fas fa-hourglass-half"></i> ุงูุฃูุงู ุงููุชุจููุฉ:</span>
               <span class="detail-value" id="days-remaining">-</span>
            </div>
          </div>
          <div id="subscription-actions" class="subscription-actions">
            <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ ุฌุงูุงุณูุฑูุจุช -->
          </div>
        </div>

        <!-- ุชุงุฑูุฎ ุงูุงุดุชุฑุงูุงุช -->
        <div class="subscription-history">
          <h2>ุชุงุฑูุฎ ุงูุงุดุชุฑุงูุงุช</h2>
          <div class="table-container">
            <table id="history-table">
              <thead>
                <tr>
                  <th><i class="fas fa-cube"></i> ููุน ุงูุฎุทุฉ</th>
                  <th><i class="fas fa-calendar-alt"></i> ุชุงุฑูุฎ ุงูุจุฏุก</th>
                  <th><i class="fas fa-calendar-check"></i> ุชุงุฑูุฎ ุงูุงูุชูุงุก</th>
                  <th><i class="fas fa-info-circle"></i> ุงูุญุงูุฉ</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <div id="no-history" class="no-data">
              <i class="fas fa-inbox"></i>
              <p>ูุง ููุฌุฏ ุชุงุฑูุฎ ุงุดุชุฑุงูุงุช</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ูุงูุฐุฉ ุชุฌุฏูุฏ ุงูุงุดุชุฑุงู -->
      <div id="renew-modal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2>ุชุฌุฏูุฏ ุงูุงุดุชุฑุงู</h2>
            <button class="close-modal">&times;</button>
          </div>
          <div class="modal-body">
            <div id="renew-plans-container" class="renew-plans">
              <!-- ุณูุชู ููุคูุง ุจูุงุณุทุฉ ุฌุงูุงุณูุฑูุจุช -->
            </div>
          </div>
          <div class="modal-footer">
            <button id="cancel-renew-btn" class="btn-secondary">ุฅูุบุงุก</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <div class="footer">
    <p>ยฉ <span id="year"></span> ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
    <p>ุชู ุงูุชุตููู ูุงูุชุทููุฑ ุจูุงุณุทุฉ | <strong style="color:#ff6600;">ุฃููู ุญุงูุธ</strong> ๐ป v1.2.0</p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase-client.js"></script>
  <script src="sidebar.js"></script>
  <script src="script.js"></script>
  <script src="my-subscription.js"></script>
</body>
</html>
